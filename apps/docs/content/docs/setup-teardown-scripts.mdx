---
title: Setup & Teardown Scripts
description: Automate workspace initialization and cleanup with config.json
---

## Overview

Superset can automatically run commands when creating or deleting workspaces. This is useful for:

- Installing dependencies
- Running database migrations
- Starting background services
- Cleaning up resources when done

## Configuration

Create a `config.json` file in your project's `.superset` directory:

```
your-project/.superset/config.json
```

## Schema

The config file has two optional arrays:

```json
{
  "setup": [
    "bun install",
    "bun run db:migrate"
  ],
  "teardown": [
    "docker-compose down"
  ]
}
```

### setup

Array of shell commands to run when a new workspace is created. Commands run sequentially in the workspace's worktree directory.

### teardown

Array of shell commands to run when a workspace is deleted. Useful for cleaning up resources like Docker containers or temporary files.

## Using Shell Scripts

For complex setup logic, reference shell scripts instead of inline commands:

```json
{
  "setup": ["./.superset/setup.sh"],
  "teardown": ["./.superset/teardown.sh"]
}
```

Make sure your scripts are executable:

```bash
chmod +x .superset/setup.sh
```

## How It Works

1. When you create a new workspace, Superset creates a git worktree for your branch
2. If `config.json` exists with setup commands, they run automatically in the new worktree
3. Commands execute in a terminal tab so you can see output
4. When deleting a workspace, teardown commands run before the worktree is removed

## Tips

- Keep setup scripts fast - they run every time you create a workspace
- Use `&&` to chain commands that depend on each other
- Commit `.superset/` to share workspace setup with your team
- For machine-specific values, use environment variables in your scripts instead of hardcoding paths
